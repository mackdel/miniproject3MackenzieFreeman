{% extends 'base.html' %}

{% block title %}Update Profile{% endblock %}

{% block content %}
<div class="container mt-5 mb-3">
    <div class="row justify-content-center">
        <div class="col-md-8 ">
            <div class="row justify-content-center align-items-center">
                <div class="col-md-3">
                    <img src="{% if user['avatar'] %}{{ url_for('static', filename='uploads/avatars/' + user['avatar']) }}{% else %}{{ url_for('static', filename='uploads/avatars/default_avatar.jpg') }}{% endif %}"
                         class="rounded-circle mb-4" width="150" height="150" alt="User Avatar">
                </div>

                <div class="col-md-5 text-left">
                    <h5>{{ user['firstname'] }} {{ user['lastname'] }}</h5>
                    <a href="#" class="text-purple d-block mb-3">Update profile photo</a>
                    </div>
            </div>

            <hr class="profile-divider">

            <form method="POST" class="mt-2" enctype="multipart/form-data">
                <div class="form-group row">
                    <label for="firstname" class="col-sm-3 col-form-label font-weight-bold text-uppercase">First Name</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control" id="firstname" name="firstname" value="{{ user['firstname'] }}" required>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="lastname" class="col-sm-3 col-form-label font-weight-bold text-uppercase">Last Name</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control" id="lastname" name="lastname" value="{{ user['lastname'] }}">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="username" class="col-sm-3 col-form-label font-weight-bold text-uppercase">Username</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control" id="username" name="username" value="{{ user['username'] }}" required>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="bio" class="col-sm-3 col-form-label font-weight-bold text-uppercase">Bio</label>
                    <div class="col-sm-9">
                        <textarea class="form-control" id="bio" name="bio" rows="4" maxlength="150">{{ user['bio'] }}</textarea>
                    </div>
                </div>

                <div class="text-center">
                    <button type="submit" class="btn btn-primary btn-custom mt-3">Save Changes</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}

